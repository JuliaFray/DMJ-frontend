{"version":3,"sources":["Components/HOC/WithAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","Components/Profile/Description/Description.module.css","Components/Profile/Posts/Post/Post.module.css","Components/Profile/Posts/Posts.module.css","Components/Profile/Posts/SendPost/SendPost.module.css","Components/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","Components/Profile/Description/Description.jsx","Components/Profile/Posts/Post/Post.jsx","Components/Profile/Posts/SendPost/SendPost.jsx","Components/Profile/Posts/SendPost/SendPostContainer.jsx","Components/Profile/Posts/Posts.jsx","Components/Profile/Posts/PostsContainer.jsx","Components/Profile/Profile.jsx","Components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","AuthRedirectComponent","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","onBlur","updateUserStatus","onChange","e","currentTarget","autoFocus","Avatar","profile","Preloader","contactForm","entries","contacts","map","c","className","StyleSheet","contact","href","console","log","avatar","avatarImg","src","photos","large","isOwner","type","btn","formData","FormData","append","target","files","savePhoto","name","id","for","description","item","key","fullName","lookingForAJobDescription","Post","post","postItem","message","quality","like","dislike","maxLength10","maxLengthCreator","reduxPostForm","reduxForm","form","sendMsg","onSubmit","handleSubmit","Field","placeholder","component","Input","validate","requiredField","SendPostContainer","newPostText","profilePage","dispatch","addpost","addPostActionCreator","updateNewPostText","text","updateNewPostTextActionCreator","SendPost","Posts","memo","messages","postsData","el","posts","values","sengPost","postItems","PostsContainer","isFetching","compose","withAithRedirect","Profile","Description","ProfileContainer","userId","match","params","authorizeUserId","history","getProfileTC","getUserStatus","refreshProfile","prevProps","prevState","snapshot","withRouter"],"mappings":"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","file":"static/js/3.a1ec9b5f.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nconst AuthRedirectComponent = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to={'/login'} />\r\n            }\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedAuthRedirectComponent;\r\n};\r\n\r\nexport default AuthRedirectComponent;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Description_avatar__1ooIX\",\"description\":\"Description_description__2IOa8\",\"item\":\"Description_item__1Yqut\",\"name\":\"Description_name__2LmLN\",\"key\":\"Description_key__h-8G2\",\"avatarImg\":\"Description_avatarImg__1p5IC\",\"btn\":\"Description_btn__2qsUY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__17260\",\"postItem\":\"Post_postItem__31BkN\",\"quality\":\"Post_quality__1Uqxs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"Posts_posts__2pRkV\",\"postItems\":\"Posts_postItems__1Rpgr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sendMsg\":\"SendPost_sendMsg__vQ7oz\"};","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n// import StyleSheet from './Description.module.css';\r\n// import Preloader from './../../Common/Preloader/Preloader';\r\n\r\n\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status)\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value)\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n                <div>\r\n                    <span onClick={activateEditMode} >{props.status || '---'}</span>\r\n                </div>\r\n            }\r\n            {editMode &&\r\n                <div>\r\n                    <input onBlur={deactivateEditMode} onChange={onStatusChange} autoFocus={true} value={status} />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport StyleSheet from './Description.module.css';\r\nimport Preloader from './../../Common/Preloader/Preloader';\r\n// import ProfileStatus from './../ProfileStatus/ProfileStatus';\r\nimport ProfileStatusWithHooks from '../ProfileStatus/ProfileStatusWithHooks';\r\n\r\n\r\nfunction Avatar(props) {\r\n  // debugger\r\n  if (!props.profile) {\r\n    return <Preloader />\r\n  }\r\n  let contacts = Object.entries(props.profile.contacts);\r\n\r\n  // let contactForm = contacts.map(c => <div> {c[0] + ': ' + c[1]} </div>)\r\n  let contactForm = contacts.map(c => c[1] && <a className={StyleSheet.contact} href={'https://' + c[1]}> {c[0]} </a>);\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    let formData = new FormData();\r\n    formData.append('image', e.target.files[0])\r\n    if (e.target.files.length) {\r\n      props.savePhoto(formData);\r\n    }\r\n  }\r\n\r\n  console.log(props)\r\n\r\n  return (\r\n    <div className={StyleSheet.avatar}>\r\n      <div className={StyleSheet.avatarImg}>\r\n        <img src={props.profile.photos.large || 'https://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png'} />\r\n\r\n        <div>\r\n          {props.isOwner && <div>\r\n            <input type={'file'} className={StyleSheet.btn} onChange={onMainPhotoSelected} name={'file'} id={'file'} />\r\n            <label for='file' >Choose a file</label>\r\n          </div>}\r\n        </div>\r\n\r\n      </div>\r\n\r\n\r\n\r\n\r\n\r\n      <div className={StyleSheet.description}>\r\n        <div className={StyleSheet.item}>\r\n          <div className={StyleSheet.name}>Name: </div>\r\n          <div className={StyleSheet.key}>{props.profile.fullName}</div>\r\n        </div>\r\n\r\n        <div className={StyleSheet.item}>\r\n          <div className={StyleSheet.name}>Status: </div>\r\n          <div className={StyleSheet.key}>\r\n            <ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus} />\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n\r\n        <div className={StyleSheet.item}>\r\n          <div className={StyleSheet.name}>Contacts: </div>\r\n          <div className={StyleSheet.key}>{contactForm}</div>\r\n\r\n        </div>\r\n\r\n        <div className={StyleSheet.item}>\r\n          <div className={StyleSheet.name}>LookingForAJob: </div>\r\n          <div className={StyleSheet.key}>{props.profile.lookingForAJobDescription}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport StyleSheet from './Post.module.css';\r\n\r\nfunction Post(props) {\r\n  return (\r\n    <div className={StyleSheet.post}>\r\n\r\n      <img src='https://upload.wikimedia.org/wikipedia/commons/f/f4/User_Avatar_2.png' />\r\n      \r\n      <div className={StyleSheet.postItem}>\r\n        {props.message}\r\n      </div>\r\n\r\n      <div className = {StyleSheet.quality}>\r\n        <span>Like {props.like}</span>\r\n        <span>Dislike {props.dislike}</span>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport StyleSheet from './SendPost.module.css';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Field } from 'redux-form';\r\nimport { requiredField, maxLengthCreator } from '../../../../Utils/Validators/validator';\r\nimport { Input } from '../../../Common/FormsControls/FormsControls';\r\n\r\nlet maxLength10 = maxLengthCreator(10)\r\n\r\nconst SendPost = (props) => {\r\n\r\n  return (\r\n    <form className={StyleSheet.sendMsg} onSubmit={props.handleSubmit}>\r\n      <Field\r\n        placeholder={'Your news...'} component={Input}\r\n        name={'posts'} validate={[requiredField, maxLength10]} />\r\n      <button>Send</button>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst reduxPostForm = reduxForm({\r\n  form: 'posts'\r\n})(SendPost);\r\n\r\nexport default reduxPostForm;","import { addPostActionCreator, updateNewPostTextActionCreator } from '../../../../redux/profile-reducer';\r\nimport SendPost from './SendPost';\r\nimport {connect} from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    newPostText : state.profilePage.newPostText\r\n  };\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addpost : () => {dispatch(addPostActionCreator());},\r\n    updateNewPostText : (text) => {dispatch(updateNewPostTextActionCreator(text))},\r\n  }\r\n}\r\n\r\n\r\nconst SendPostContainer = connect(mapStateToProps, mapDispatchToProps)(SendPost);\r\n\r\nexport default SendPostContainer;","import React from 'react';\r\n// import { PureComponent } from 'react';\r\nimport Post from './Post/Post';\r\nimport StyleSheet from './Posts.module.css'\r\nimport SendPost from './SendPost/SendPostContainer';\r\n\r\nconst Posts = React.memo(props => {\r\n\r\n  let messages = props.postsData.map(el => <Post message={el.message} like={el.like} dislike={el.dislike} />);\r\n\r\n  let addNewPost = (values) => {\r\n    props.sengPost(values.posts)\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={StyleSheet.posts}>\r\n      <SendPost onSubmit={addNewPost} />\r\n      <span>My Posts</span>\r\n      <div className={StyleSheet.postItems}>\r\n        {messages}\r\n      </div>\r\n\r\n    </div>\r\n\r\n  );\r\n\r\n});\r\n\r\nexport default Posts;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from './../../Common/Preloader/Preloader';\r\nimport withAithRedirect from './../../HOC/WithAuthRedirect'\r\nimport { compose } from 'redux';\r\nimport { addPostActionCreator } from './../../../redux/profile-reducer';\r\nimport Posts from './Posts';\r\n\r\nclass PostsContainer extends React.Component {\r\n  render() {\r\n    return <>\r\n      {this.props.isFetching ? <Preloader /> : null}\r\n      <Posts \r\n        sengPost={this.props.sengPost}\r\n        postsData = {this.props.postsData}\r\n       />\r\n    </>\r\n  }\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n  posts: state.profilePage.posts\r\n});\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n      sengPost: (message) => {\r\n          dispatch(addPostActionCreator(message))\r\n      }\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withAithRedirect\r\n)(PostsContainer);\r\n","import React from 'react';\r\n// import StyleSheet from './Profile.module.css';\r\nimport Description from './Description/Description';\r\nimport PostsContainer from './Posts/PostsContainer';\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n  // debugger\r\n \r\n  return (\r\n    <div>\r\n      {/* <img src='https://jssors8.azureedge.net/demos/image-slider/img/faded-monaco-scenery-evening-dark-picjumbo-com-image.jpg' /> */}\r\n      <Description profile={props.profile} status = {props.status} updateUserStatus = {props.updateUserStatus} isOwner = {props.isOwner} savePhoto = {props.savePhoto}/>\r\n      <PostsContainer\r\n        postsData={props.posts}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\nimport { getProfileTC, getUserStatus, updateUserStatus, savePhoto } from './../../redux/profile-reducer';\r\n// import withAuthRedirect from './../HOC/WithAuthRedirect';\r\nimport Profile from './Profile';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n\r\n  constructor(props) { super(props); }\r\n\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizeUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login')\r\n      }\r\n    }\r\n    this.props.getProfileTC(userId);\r\n    this.props.getUserStatus(userId);\r\n    this.props.updateUserStatus(this.props.status);\r\n  }\r\n\r\n  componentDidMount() {\r\n    // debugger;\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    // debugger\r\n    // console.log(this.props);\r\n    // console.log(prevProps);\r\n\r\n    if (this.props.match.params.userId != prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n\r\n  }\r\n\r\n  // shouldComponentUpdate() {\r\n  //   console.log(this.props)\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <Profile posts={this.props.posts} profile={this.props.profile} status={this.props.status} updateUserStatus={this.props.updateUserStatus} isOwner = {!this.props.match.params.userId} savePhoto = {this.props.savePhoto}/>\r\n    )\r\n  }\r\n\r\n};\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  authorizeUserId: state.auth.id,\r\n  isAuth: state.auth.isAuth,\r\n  posts: state.profilePage.posts\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { getProfileTC, getUserStatus, updateUserStatus, savePhoto }),\r\n  withRouter\r\n  // withAuthRedirect\r\n)(ProfileContainer)"],"sourceRoot":""}